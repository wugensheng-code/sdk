TARGET = 1romcode_test_sd_traverse

NUCLEI_SDK_ROOT = ../../..

SRCDIRS = . FATFS

INCDIRS = . FATFS

COMMON_FLAGS := -O2 -Wall 

# check in al_mmc.h, enable freq div for FPGA emulation, otherwise for chip
COMMON_FLAGS += -DMMC_COMPILE_FOR_EMU

# check in al_mmc.h, enable AL_DEBUG_PRINT
COMMON_FLAGS += -DAL_DEBUG_PRINT
# check in al_mmc.c, enable print mshc register list
COMMON_FLAGS += -D_USE_MSHC_PRINT

# check in FATFS/ffconf.h, change fatfs function
# is enable write function
COMMON_FLAGS += -D_USE_WRITE=1
# is enable read only
COMMON_FLAGS += -D_FS_READONLY=0
# is enable mkfs function
COMMON_FLAGS += -D_USE_MKFS=1

# check in main.c, change sd or emmc test and support wdt reset
# use for reset test
COMMON_FLAGS += -D_USE_WDT
# use for sd test
COMMON_FLAGS += -D_USE_SD_TEST
# use for emmc test
# COMMON_FLAGS += -D_USE_EMMC_TEST

# check in sd_test.c, select various test case, need enable _USE_SD_TEST
# support traverse test case
COMMON_FLAGS += -DSD_TRAVERSETEST
# support branch test case
# COMMON_FLAGS += -DSD_BRANCHTEST
# support boundary test case
# COMMON_FLAGS += -DSD_BOUNDARYTEST
# support fatfs test case
# COMMON_FLAGS += -DSD_FATFSTEST
# support print reg test case
# COMMON_FLAGS += -DSD_PRINTREGTEST

# check in emmc_test.c, select various test case, need enable _USE_EMMC_TEST
# support traverse test case
# COMMON_FLAGS += -DEMMC_TRAVERSETEST
# support branch test case
# COMMON_FLAGS += -DEMMC_BRANCHTEST
# support boundary test case
# COMMON_FLAGS += -DEMMC_BOUNDARYTEST
# support fatfs test case
# COMMON_FLAGS += -DEMMC_FATFSTEST
# support print reg test case
# COMMON_FLAGS += -DEMMC_PRINTREGTEST
# support byte read test case
# COMMON_FLAGS += -DEMMC_BYTEREADTEST

#-Werror=uninitialized

#SOC := demoapu

#COMPILE_PREFIX := /opt/toolchain/gcc-arm-11.2-2022.02-x86_64-aarch64-none-elf/bin/aarch64-none-elf-

#PROGRAM := ./

#V := 1

include $(NUCLEI_SDK_ROOT)/Build/Makefile.base
