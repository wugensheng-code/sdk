/*
 * gbe_test.c
 *
 *  Created on: 2022年5月6日
 *      Author: Administrator
 */
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include "nuclei_sdk_soc.h"
#include "board_nuclei_fpga_eval.h"
#include "../../../SoC/demosoc/Common/Include/demosoc_xec.h"



uint8_t buffer_arp[64]={0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                        0x00, 0x2b, 0x20, 0x21, 0x03, 0x23,
                        0x08, 0x06,
                        0x00, 0x01,
                        0x08, 0x00,
                        0x06,
                        0x04,
                        0x00, 0x01,
                        0x00, 0x2b, 0x20, 0x21, 0x03, 0x23,
                        0xc0, 0xa8, 0xC8, 0x02,
                        0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
                        0xc0,0xa8, 0xC8, 0x05,
                        0x00, 0x00 ,0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                        0x00, 0x00, 0x00, 0x00, 0x00 ,0x00, 0x00 ,0x00
                    };

#define BUFFER_UDP_LEN  152

uint8_t buffer_udp[BUFFER_UDP_LEN]={

0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x2b, 0x20, 0x21, 0x03, 0x23, 0x08, 0x00, 0x45, 0x00,
0x00, 0x58, 0x12, 0x34, 0x40, 0x00, 0xff, 0x11, 0xe0, 0xb5, 0xc0, 0xa8, 0xc8, 0x02, 0xff, 0xff,
0xff, 0xff, 0x1f, 0x90, 0x1f, 0x90, 0x00, 0x44, 0x8d, 0xe2, 0x20, 0x4e, 0x75, 0x63, 0x6c, 0x65,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x30, 0x33, 0x32, 0x33, 0x0d, 0x0a

};
uint8_t buffer_udp1[64]={

0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x01, 0x2b, 0x20, 0x21, 0x03, 0x23, 0x08, 0x00, 0x45, 0x00,
0x00, 0x58, 0x12, 0x34, 0x40, 0x00, 0xff, 0x11, 0xe0, 0xb5, 0xc0, 0xa8, 0xc8, 0x02, 0xff, 0xff,
0xff, 0xff, 0x1f, 0x90, 0x1f, 0x90, 0x00, 0x44, 0x8d, 0xe2, 0x20, 0x4e, 0x75, 0x63, 0x6c, 0x65
};

uint8_t buffer_udp2[3072]={

0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x02, 0x2b, 0x20, 0x21, 0x03, 0x23, 0x08, 0x00, 0x45, 0x00,
0x0b, 0xee, 0x00, 0x02, 0x00, 0x00, 0x80, 0xfd, 0xac, 0xb4, 0xc0, 0xa8, 0x00, 0x02, 0xc0, 0xa8,
0x00, 0x0a, 0x1f, 0x90, 0x1f, 0x90, 0x00, 0x44, 0x8d, 0xe2, 0x20, 0x4e, 0x75, 0x63, 0x6c, 0x65,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x6f, 0x6c, 0x6c, 0x65, 0x72, 0x20, 0x0d, 0x0a, 0x54, 0x72, 0x61, 0x6e, 0x73, 0x6d, 0x69, 0x74,
0x20, 0x53, 0x6d, 0x6f, 0x6b, 0x65, 0x20, 0x54, 0x65, 0x73, 0x74, 0x20, 0x32, 0x30, 0x32, 0x31,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x72,
0x69, 0x20, 0x45, 0x74, 0x68, 0x65, 0x72, 0x6e, 0x65, 0x74, 0x20, 0x43, 0x6f, 0x6e, 0x74, 0x11
};




void test_XEC0_IRQHandler(void)
{
    XEC0_DMA_CH->DMA_CH0_Tx_Control= 0x0;
    FrameTypeDef frame;
    uint8_t * buffer;
    uint32_t length;
    uint32_t tempreg = 0;

    //if(ETH_Get_ITStatus(BIT(16)))
    //{
    //    ETH_Clear_ITStatus(BIT(16));
 //  tempreg = XEC0_DMA->DMA_Interrupt_Status;   //F8041008
 //XEC0_DMA_CH->DMA_CH0_Rx_Control = 0x17ff8;

    XEC0_DMA_CH->DMA_CH0_Status =   XEC0_DMA_CH->DMA_CH0_Status | 0x1<<15 |0x1<<6;
  //  tempreg = XEC0_DMA->DMA_Interrupt_Status;   //F8041008
   // XEC0_DMA_CH->DMA_CH0_Interrupt_Enable |= 0x1<<15 | 0x1<<6;
        frame = ETH_Rx_Packet();
        length = frame.length;
        buffer = (uint8_t *)frame.buffer;
      //  XEC0_DMA_CH->DMA_CH0_Rx_Control = 0x17ff8;
        for(int i =0 ;i<151;i++)    //
        {
          if(buffer_udp[i] !=  buffer[i] )
           {
            	printf("error0 i=%x\r\n",i);
         //   	printf("frame_length=%x\r\n",frame.length);

           //    printf("buffer=%x\r\n",buffer[i]);
           }
        //	 printf("buffer=%4x\r\n",buffer[i]);

        }
        //XEC0_DMA_CH->DMA_CH0_Interrupt_Enable =  (XEC0_DMA_CH->DMA_CH0_Interrupt_Enable | 0x1<<15) & (0xffffffbf); //f8041134
       // XEC0_DMA_CH->DMA_CH0_Rx_Control = 0x17ff9;    //0xf804_1108
   //ian     printf("length:%d\r\n",length);
      printf("XEC0 PHY ## pass ## \r\n");
      XEC0_DMA_CH->DMA_CH0_Tx_Control=	XEC0_DMA_CH->DMA_CH0_Tx_Control | 0x1 | 0x1<<4;

    //}

}
#if 0
void test_XEC1_IRQHandler(void)
{
    XEC1_DMA_CH->DMA_CH0_Tx_Control= 0x0;
    FrameTypeDef frame;
    uint8_t * buffer;
    uint32_t length;
    uint32_t tempreg = 0;

   tempreg = XEC1_DMA->DMA_Interrupt_Status;   //F8041008

    XEC1_DMA_CH->DMA_CH0_Status =   XEC1_DMA_CH->DMA_CH0_Status | 0x1<<15 |0x1<<6;
    tempreg = XEC1_DMA->DMA_Interrupt_Status;   //F8041008
   // XEC0_DMA_CH->DMA_CH0_Interrupt_Enable |= 0x1<<15 | 0x1<<6;
        frame = ETH1_Rx_Packet();
        length = frame.length;
        buffer = (uint8_t *)frame.buffer;
      //  XEC0_DMA_CH->DMA_CH0_Rx_Control = 0x17ff8;
        for(int i =0 ;i<151;i++)    //
        {
          if(buffer_udp[i] !=  buffer[i] )
          {
            	printf("error1 i=%x\r\n",i);
         //   	printf("frame_length=%x\r\n",frame.length);

           //     printf("buffer=%x\r\n",buffer[i]);
           }
        //	 printf("buffer=%4x\r\n",buffer[i]);

        }
        //XEC0_DMA_CH->DMA_CH0_Interrupt_Enable =  (XEC0_DMA_CH->DMA_CH0_Interrupt_Enable | 0x1<<15) & (0xffffffbf); //f8041134
       // XEC0_DMA_CH->DMA_CH0_Rx_Control = 0x17ff9;    //0xf804_1108
   //ian     printf("length:%d\r\n",length);
      printf("XEC1 PHY ### pass ### \r\n");
      XEC0_DMA_CH->DMA_CH0_Tx_Control=	XEC0_DMA_CH->DMA_CH0_Tx_Control | 0x1 | 0x1<<4;


}
#endif
extern uint8_t Rx_Buff[ETH_RXBUFNB][ETH_RX_BUF_SIZE]  __attribute__ ((aligned (4))) ; /* Ethernet Receive Buffer */
extern uint8_t Tx_Buff[ETH_TXBUFNB][ETH_TX_BUF_SIZE]  __attribute__ ((aligned (4))) ; /* Ethernet Transmit Buffer */

extern uint8_t Rx_Buff1[ETH_RXBUFNB][ETH_RX_BUF_SIZE]  __attribute__ ((aligned (4))) ; /* Ethernet Receive Buffer */
extern uint8_t Tx_Buff1[ETH_TXBUFNB][ETH_TX_BUF_SIZE]  __attribute__ ((aligned (4))) ; /* Ethernet Transmit Buffer */


void gbe_test(void){
    uint32_t tempctrl = 0;
    int i = 0;
	*(uint32_t *)(0xf8800140u) =0x361;//0x361;  //0X350 0x310 MII ,0x361 rgmii
    *(uint32_t *)(0xf8800141u) =0x361; //0x350 MII
    __enable_irq();
    printf("\r\n");
    printf("\r\n");
    printf("\r\n");
    printf("\r\n");
    printf("***************************GBE TEST*****************************\r\n");
    ECLIC_Register_IRQ(XEC0_IRQn, ECLIC_NON_VECTOR_INTERRUPT,ECLIC_LEVEL_TRIGGER, 1, 1,test_XEC0_IRQHandler);
  //ECLIC_Register_IRQ(XEC1_IRQn, ECLIC_NON_VECTOR_INTERRUPT,ECLIC_LEVEL_TRIGGER, 1, 1,XEC1_IRQHandler);
     for(i=0;i<4;i++)   //ETH_TXBUFNB
     	 {
            memcpy((uint8_t *)Tx_Buff[i],(uint8_t *)buffer_udp,BUFFER_UDP_LEN);
     	 }
    ETH_DMARxDescChainInit();
    ETH_DMATxDescChainInit();
    ETH_Init();
    ETH_Tx_Packet(BUFFER_UDP_LEN);
    printf("   GBE test success \r\n");
}


