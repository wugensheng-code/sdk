\hypertarget{group__irq}{}\section{Interrupt Handling Interfaces}
\label{group__irq}\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmetal__irq}{metal\+\_\+irq}
\item 
struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__irq_ga45bd2c2be4c4788772f18742664097b0}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED}~0
\item 
\#define \hyperlink{group__irq_ga243d0514334619fc51d7029840ce2720}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED}~1
\item 
\#define \hyperlink{group__irq_ga012dfdc4397683c22caa93075b01be52}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY}~(-\/1)
\item 
\#define \hyperlink{group__irq_ga1cc45f7942dbbca274f2d7822b7d7df0}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE}~0U
\item 
\#define \hyperlink{group__irq_ga007398d79afac4c5840f958013b9c823}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE}~1U
\item 
\#define \hyperlink{group__irq_ga459298e318433ee817bf50dbd02d4534}{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE}(\+\_\+irq\+\_\+controller,  \+\_\+irq\+\_\+base,  \+\_\+irq\+\_\+num,  \+\_\+arg,  \+\_\+irq\+\_\+set\+\_\+enable,  \+\_\+irq\+\_\+register,  \+\_\+irqs)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int($\ast$ \hyperlink{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}{metal\+\_\+irq\+\_\+handler}) (int irq, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em type of interrupt handler \end{DoxyCompactList}\item 
typedef void($\ast$ \hyperlink{group__irq_ga125a768ecd5924b3da91b6ebb6820e9a}{metal\+\_\+irq\+\_\+set\+\_\+enable}) (struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$irq\+\_\+cntr, int irq, unsigned int enable)
\begin{DoxyCompactList}\small\item\em type of interrupt controller to set irq enable \end{DoxyCompactList}\item 
typedef int($\ast$ \hyperlink{group__irq_ga22c994407d005793e478ac8267744f88}{metal\+\_\+cntr\+\_\+irq\+\_\+register}) (struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$irq\+\_\+cntr, int irq, \hyperlink{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}{metal\+\_\+irq\+\_\+handler} hd, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em type of controller specific registering interrupt function \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__irq_ga825485f24670cd47ee1a9ef7ee469660}{metal\+\_\+irq\+\_\+register} (int irq, \hyperlink{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}{metal\+\_\+irq\+\_\+handler} irq\+\_\+handler, void $\ast$arg)
\begin{DoxyCompactList}\small\item\em Register interrupt handler for interrupt. Only allow single interrupt handler for a interrupt. \end{DoxyCompactList}\item 
static void \hyperlink{group__irq_ga5a88b565896b06e7ce1fda23a8cb10c5}{metal\+\_\+irq\+\_\+unregister} (int irq)
\begin{DoxyCompactList}\small\item\em Unregister interrupt handler for interrupt. \end{DoxyCompactList}\item 
unsigned int \hyperlink{group__irq_ga79cd09db2f2ef9dd4c05117861f47066}{metal\+\_\+irq\+\_\+save\+\_\+disable} (void)
\begin{DoxyCompactList}\small\item\em disable interrupts \end{DoxyCompactList}\item 
void \hyperlink{group__irq_gaf39101252fba3dcefac3dd0f7919945f}{metal\+\_\+irq\+\_\+restore\+\_\+enable} (unsigned int flags)
\begin{DoxyCompactList}\small\item\em restore interrupts to their previous state \end{DoxyCompactList}\item 
void \hyperlink{group__irq_ga49be7c9623cd5bcb11c99542ee85bb97}{metal\+\_\+irq\+\_\+enable} (unsigned int vector)
\begin{DoxyCompactList}\small\item\em metal\+\_\+irq\+\_\+enable \end{DoxyCompactList}\item 
void \hyperlink{group__irq_ga51d9bee9f03e320423ced3ed60198a6a}{metal\+\_\+irq\+\_\+disable} (unsigned int vector)
\begin{DoxyCompactList}\small\item\em metal\+\_\+irq\+\_\+disable \end{DoxyCompactList}\item 
int \hyperlink{group__irq_gaa5f470556ea8d7758a94fffb689188cd}{metal\+\_\+irq\+\_\+register\+\_\+controller} (struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$cntr)
\begin{DoxyCompactList}\small\item\em metal\+\_\+irq\+\_\+register\+\_\+controller \end{DoxyCompactList}\item 
static int \hyperlink{group__irq_gaa4e87537ea598b26d00cd2af070ce41c}{metal\+\_\+irq\+\_\+handle} (struct \hyperlink{structmetal__irq}{metal\+\_\+irq} $\ast$irq\+\_\+data, int irq)
\begin{DoxyCompactList}\small\item\em metal\+\_\+irq\+\_\+handle \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__irq_ga012dfdc4397683c22caa93075b01be52}\label{group__irq_ga012dfdc4397683c22caa93075b01be52}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY}{METAL\_IRQ\_ANY}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+A\+NY~(-\/1)}

I\+RQ A\+NY ID \mbox{\Hypertarget{group__irq_ga459298e318433ee817bf50dbd02d4534}\label{group__irq_ga459298e318433ee817bf50dbd02d4534}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE}{METAL\_IRQ\_CONTROLLER\_DECLARE}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+D\+E\+C\+L\+A\+RE(\begin{DoxyParamCaption}\item[{}]{\+\_\+irq\+\_\+controller,  }\item[{}]{\+\_\+irq\+\_\+base,  }\item[{}]{\+\_\+irq\+\_\+num,  }\item[{}]{\+\_\+arg,  }\item[{}]{\+\_\+irq\+\_\+set\+\_\+enable,  }\item[{}]{\+\_\+irq\+\_\+register,  }\item[{}]{\+\_\+irqs }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keyword}{struct }\hyperlink{structmetal__irq__controller}{metal\_irq\_controller} \_irq\_controller = \{ \(\backslash\)
                .\hyperlink{structmetal__irq__controller_af0e813505179ca61b4c26d2017ebb05f}{irq\_base} = \_irq\_base, \(\backslash\)
                .irq\_num = \_irq\_num, \(\backslash\)
                .arg = \_arg, \(\backslash\)
                .irq\_set\_enable = \_irq\_set\_enable, \(\backslash\)
                .irq\_register = \_irq\_register, \(\backslash\)
                .irqs = \_irqs,\(\backslash\)
        \}
\end{DoxyCode}
\mbox{\Hypertarget{group__irq_ga1cc45f7942dbbca274f2d7822b7d7df0}\label{group__irq_ga1cc45f7942dbbca274f2d7822b7d7df0}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE}{METAL\_IRQ\_DISABLE}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+D\+I\+S\+A\+B\+LE~0U}

I\+RQ state macro which will be passed to metal irq set state function to indicate which state the caller want the I\+RQ to change to. \mbox{\Hypertarget{group__irq_ga007398d79afac4c5840f958013b9c823}\label{group__irq_ga007398d79afac4c5840f958013b9c823}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE}{METAL\_IRQ\_ENABLE}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+E\+N\+A\+B\+LE~1U}

\mbox{\Hypertarget{group__irq_ga243d0514334619fc51d7029840ce2720}\label{group__irq_ga243d0514334619fc51d7029840ce2720}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED}{METAL\_IRQ\_HANDLED}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+H\+A\+N\+D\+L\+ED~1}

\mbox{\Hypertarget{group__irq_ga45bd2c2be4c4788772f18742664097b0}\label{group__irq_ga45bd2c2be4c4788772f18742664097b0}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED}}
\index{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED@{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED}{METAL\_IRQ\_NOT\_HANDLED}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+I\+R\+Q\+\_\+\+N\+O\+T\+\_\+\+H\+A\+N\+D\+L\+ED~0}

I\+RQ handled status 

\subsection{Typedef Documentation}
\mbox{\Hypertarget{group__irq_ga22c994407d005793e478ac8267744f88}\label{group__irq_ga22c994407d005793e478ac8267744f88}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+cntr\+\_\+irq\+\_\+register@{metal\+\_\+cntr\+\_\+irq\+\_\+register}}
\index{metal\+\_\+cntr\+\_\+irq\+\_\+register@{metal\+\_\+cntr\+\_\+irq\+\_\+register}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+cntr\+\_\+irq\+\_\+register}{metal\_cntr\_irq\_register}}
{\footnotesize\ttfamily typedef int($\ast$ metal\+\_\+cntr\+\_\+irq\+\_\+register) (struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$irq\+\_\+cntr, int irq, \hyperlink{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}{metal\+\_\+irq\+\_\+handler} hd, void $\ast$arg)}



type of controller specific registering interrupt function 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq\+\_\+cntr} & pointer to interrupt controller \\
\hline
\mbox{\tt in}  & {\em irq} & interrupt id \\
\hline
\mbox{\tt in}  & {\em hd} & interrupt handler \\
\hline
\mbox{\tt in}  & {\em arg} & argument which will be passed to the interrupt handler \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for success, negative value for failure 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}\label{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+handler@{metal\+\_\+irq\+\_\+handler}}
\index{metal\+\_\+irq\+\_\+handler@{metal\+\_\+irq\+\_\+handler}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+handler}{metal\_irq\_handler}}
{\footnotesize\ttfamily typedef int($\ast$ metal\+\_\+irq\+\_\+handler) (int irq, void $\ast$arg)}



type of interrupt handler 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq} & interrupt id \\
\hline
\mbox{\tt in}  & {\em arg} & argument to pass to the handler \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
irq handled status 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_ga125a768ecd5924b3da91b6ebb6820e9a}\label{group__irq_ga125a768ecd5924b3da91b6ebb6820e9a}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+set\+\_\+enable@{metal\+\_\+irq\+\_\+set\+\_\+enable}}
\index{metal\+\_\+irq\+\_\+set\+\_\+enable@{metal\+\_\+irq\+\_\+set\+\_\+enable}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+set\+\_\+enable}{metal\_irq\_set\_enable}}
{\footnotesize\ttfamily typedef void($\ast$ metal\+\_\+irq\+\_\+set\+\_\+enable) (struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$irq\+\_\+cntr, int irq, unsigned int enable)}



type of interrupt controller to set irq enable 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq\+\_\+cntr} & pointer to interrupt controller \\
\hline
\mbox{\tt in}  & {\em irq} & interrupt id \\
\hline
\mbox{\tt in}  & {\em enable} & I\+RQ state \\
\hline
\end{DoxyParams}


\subsection{Function Documentation}
\mbox{\Hypertarget{group__irq_ga51d9bee9f03e320423ced3ed60198a6a}\label{group__irq_ga51d9bee9f03e320423ced3ed60198a6a}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+disable@{metal\+\_\+irq\+\_\+disable}}
\index{metal\+\_\+irq\+\_\+disable@{metal\+\_\+irq\+\_\+disable}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+disable()}{metal\_irq\_disable()}}
{\footnotesize\ttfamily void metal\+\_\+irq\+\_\+disable (\begin{DoxyParamCaption}\item[{unsigned int}]{vector }\end{DoxyParamCaption})}



metal\+\_\+irq\+\_\+disable 

Disables the given interrupt


\begin{DoxyParams}{Parameters}
{\em vector} & -\/ interrupt vector number \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__irq_ga49be7c9623cd5bcb11c99542ee85bb97}\label{group__irq_ga49be7c9623cd5bcb11c99542ee85bb97}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+enable@{metal\+\_\+irq\+\_\+enable}}
\index{metal\+\_\+irq\+\_\+enable@{metal\+\_\+irq\+\_\+enable}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+enable()}{metal\_irq\_enable()}}
{\footnotesize\ttfamily void metal\+\_\+irq\+\_\+enable (\begin{DoxyParamCaption}\item[{unsigned int}]{vector }\end{DoxyParamCaption})}



metal\+\_\+irq\+\_\+enable 

Enables the given interrupt


\begin{DoxyParams}{Parameters}
{\em vector} & -\/ interrupt vector number \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__irq_gaa4e87537ea598b26d00cd2af070ce41c}\label{group__irq_gaa4e87537ea598b26d00cd2af070ce41c}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+handle@{metal\+\_\+irq\+\_\+handle}}
\index{metal\+\_\+irq\+\_\+handle@{metal\+\_\+irq\+\_\+handle}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+handle()}{metal\_irq\_handle()}}
{\footnotesize\ttfamily static int metal\+\_\+irq\+\_\+handle (\begin{DoxyParamCaption}\item[{struct \hyperlink{structmetal__irq}{metal\+\_\+irq} $\ast$}]{irq\+\_\+data,  }\item[{int}]{irq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



metal\+\_\+irq\+\_\+handle 

Call registered I\+RQ handler


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq\+\_\+data} & metal I\+RQ structure \\
\hline
\mbox{\tt in}  & {\em irq} & I\+RQ id which will be passed to handler \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
I\+RQ handler status 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_ga825485f24670cd47ee1a9ef7ee469660}\label{group__irq_ga825485f24670cd47ee1a9ef7ee469660}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+register@{metal\+\_\+irq\+\_\+register}}
\index{metal\+\_\+irq\+\_\+register@{metal\+\_\+irq\+\_\+register}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+register()}{metal\_irq\_register()}}
{\footnotesize\ttfamily int metal\+\_\+irq\+\_\+register (\begin{DoxyParamCaption}\item[{int}]{irq,  }\item[{\hyperlink{group__irq_ga4fd6caa764267fc62373ae22e17aea2a}{metal\+\_\+irq\+\_\+handler}}]{irq\+\_\+handler,  }\item[{void $\ast$}]{arg }\end{DoxyParamCaption})}



Register interrupt handler for interrupt. Only allow single interrupt handler for a interrupt. 

If irq\+\_\+handler is N\+U\+LL, it will unregister interrupt handler from interrupt


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq} & interrupt id \\
\hline
\mbox{\tt in}  & {\em irq\+\_\+handler} & interrupt handler \\
\hline
\mbox{\tt in}  & {\em arg} & arg is the argument pointing to the data which will be passed to the interrupt handler. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for success, non-\/zero on failure 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_gaa5f470556ea8d7758a94fffb689188cd}\label{group__irq_gaa5f470556ea8d7758a94fffb689188cd}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+register\+\_\+controller@{metal\+\_\+irq\+\_\+register\+\_\+controller}}
\index{metal\+\_\+irq\+\_\+register\+\_\+controller@{metal\+\_\+irq\+\_\+register\+\_\+controller}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+register\+\_\+controller()}{metal\_irq\_register\_controller()}}
{\footnotesize\ttfamily int metal\+\_\+irq\+\_\+register\+\_\+controller (\begin{DoxyParamCaption}\item[{struct \hyperlink{structmetal__irq__controller}{metal\+\_\+irq\+\_\+controller} $\ast$}]{cntr }\end{DoxyParamCaption})}



metal\+\_\+irq\+\_\+register\+\_\+controller 

Register I\+RQ controller This function will allocate I\+RQ ids if it was not predefined in the irq controller. There is no locking in the function, it is not supposed to be called by multiple threads.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em cntr} & Interrupt controller to register \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, or negative value for failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_gaf39101252fba3dcefac3dd0f7919945f}\label{group__irq_gaf39101252fba3dcefac3dd0f7919945f}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+restore\+\_\+enable@{metal\+\_\+irq\+\_\+restore\+\_\+enable}}
\index{metal\+\_\+irq\+\_\+restore\+\_\+enable@{metal\+\_\+irq\+\_\+restore\+\_\+enable}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+restore\+\_\+enable()}{metal\_irq\_restore\_enable()}}
{\footnotesize\ttfamily void metal\+\_\+irq\+\_\+restore\+\_\+enable (\begin{DoxyParamCaption}\item[{unsigned int}]{flags }\end{DoxyParamCaption})}



restore interrupts to their previous state 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em flags} & previous interrupts state \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__irq_ga79cd09db2f2ef9dd4c05117861f47066}\label{group__irq_ga79cd09db2f2ef9dd4c05117861f47066}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+save\+\_\+disable@{metal\+\_\+irq\+\_\+save\+\_\+disable}}
\index{metal\+\_\+irq\+\_\+save\+\_\+disable@{metal\+\_\+irq\+\_\+save\+\_\+disable}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+save\+\_\+disable()}{metal\_irq\_save\_disable()}}
{\footnotesize\ttfamily unsigned int metal\+\_\+irq\+\_\+save\+\_\+disable (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



disable interrupts 

\begin{DoxyReturn}{Returns}
interrupts state 
\end{DoxyReturn}
\mbox{\Hypertarget{group__irq_ga5a88b565896b06e7ce1fda23a8cb10c5}\label{group__irq_ga5a88b565896b06e7ce1fda23a8cb10c5}} 
\index{Interrupt Handling Interfaces@{Interrupt Handling Interfaces}!metal\+\_\+irq\+\_\+unregister@{metal\+\_\+irq\+\_\+unregister}}
\index{metal\+\_\+irq\+\_\+unregister@{metal\+\_\+irq\+\_\+unregister}!Interrupt Handling Interfaces@{Interrupt Handling Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+irq\+\_\+unregister()}{metal\_irq\_unregister()}}
{\footnotesize\ttfamily static void metal\+\_\+irq\+\_\+unregister (\begin{DoxyParamCaption}\item[{int}]{irq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Unregister interrupt handler for interrupt. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em irq} & interrupt id \\
\hline
\end{DoxyParams}
