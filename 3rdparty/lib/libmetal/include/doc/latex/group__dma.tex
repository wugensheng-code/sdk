\hypertarget{group__dma}{}\section{D\+MA Interfaces}
\label{group__dma}\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmetal__sg}{metal\+\_\+sg}
\begin{DoxyCompactList}\small\item\em scatter/gather list element structure \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__dma_ga2fb237c063134da0e06cbd00121f73fd}{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R}~1
\item 
\#define \hyperlink{group__dma_ga3bc89e88d23b9c8d8abc29a67d4de5f5}{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W}~2
\item 
\#define \hyperlink{group__dma_ga46cf17be6807859aa1bba927caa6511a}{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR}~3
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__dma_gacf0433b5f000a96313a25cab6a858f2e}{metal\+\_\+dma\+\_\+map} (struct \hyperlink{structmetal__device}{metal\+\_\+device} $\ast$dev, uint32\+\_\+t dir, struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$sg\+\_\+in, int nents\+\_\+in, struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$sg\+\_\+out)
\begin{DoxyCompactList}\small\item\em Map memory for D\+MA transaction. After the memory is D\+MA mapped, the memory should be accessed by the D\+MA device but not the C\+PU. \end{DoxyCompactList}\item 
void \hyperlink{group__dma_gacd34bcf93bfb78a4ffbab2aaa68b443d}{metal\+\_\+dma\+\_\+unmap} (struct \hyperlink{structmetal__device}{metal\+\_\+device} $\ast$dev, uint32\+\_\+t dir, struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$sg, int nents)
\begin{DoxyCompactList}\small\item\em Unmap D\+MA memory After the memory is D\+MA unmapped, the memory should be accessed by the C\+PU but not the D\+MA device. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{group__dma_ga2fb237c063134da0e06cbd00121f73fd}\label{group__dma_ga2fb237c063134da0e06cbd00121f73fd}} 
\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}!M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R}}
\index{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R}!D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R}{METAL\_DMA\_DEV\_R}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+R~1}

D\+MA direction, device read \mbox{\Hypertarget{group__dma_ga3bc89e88d23b9c8d8abc29a67d4de5f5}\label{group__dma_ga3bc89e88d23b9c8d8abc29a67d4de5f5}} 
\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}!M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W}}
\index{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W}!D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W}{METAL\_DMA\_DEV\_W}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+W~2}

D\+MA direction, device write \mbox{\Hypertarget{group__dma_ga46cf17be6807859aa1bba927caa6511a}\label{group__dma_ga46cf17be6807859aa1bba927caa6511a}} 
\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}!M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR}}
\index{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR@{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR}!D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsubsection{\texorpdfstring{M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR}{METAL\_DMA\_DEV\_WR}}
{\footnotesize\ttfamily \#define M\+E\+T\+A\+L\+\_\+\+D\+M\+A\+\_\+\+D\+E\+V\+\_\+\+WR~3}

D\+MA direction, device read/write 

\subsection{Function Documentation}
\mbox{\Hypertarget{group__dma_gacf0433b5f000a96313a25cab6a858f2e}\label{group__dma_gacf0433b5f000a96313a25cab6a858f2e}} 
\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}!metal\+\_\+dma\+\_\+map@{metal\+\_\+dma\+\_\+map}}
\index{metal\+\_\+dma\+\_\+map@{metal\+\_\+dma\+\_\+map}!D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+dma\+\_\+map()}{metal\_dma\_map()}}
{\footnotesize\ttfamily int metal\+\_\+dma\+\_\+map (\begin{DoxyParamCaption}\item[{struct \hyperlink{structmetal__device}{metal\+\_\+device} $\ast$}]{dev,  }\item[{uint32\+\_\+t}]{dir,  }\item[{struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$}]{sg\+\_\+in,  }\item[{int}]{nents\+\_\+in,  }\item[{struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$}]{sg\+\_\+out }\end{DoxyParamCaption})}



Map memory for D\+MA transaction. After the memory is D\+MA mapped, the memory should be accessed by the D\+MA device but not the C\+PU. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dev} & D\+MA device \\
\hline
\mbox{\tt in}  & {\em dir} & D\+MA direction \\
\hline
\mbox{\tt in}  & {\em sg\+\_\+in} & sg list of memory to map \\
\hline
\mbox{\tt in}  & {\em nents\+\_\+in} & number of sg list entries of memory to map \\
\hline
\mbox{\tt out}  & {\em sg\+\_\+out} & sg list of mapped memory \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of mapped sg entries, -\/error on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{group__dma_gacd34bcf93bfb78a4ffbab2aaa68b443d}\label{group__dma_gacd34bcf93bfb78a4ffbab2aaa68b443d}} 
\index{D\+M\+A Interfaces@{D\+M\+A Interfaces}!metal\+\_\+dma\+\_\+unmap@{metal\+\_\+dma\+\_\+unmap}}
\index{metal\+\_\+dma\+\_\+unmap@{metal\+\_\+dma\+\_\+unmap}!D\+M\+A Interfaces@{D\+M\+A Interfaces}}
\subsubsection{\texorpdfstring{metal\+\_\+dma\+\_\+unmap()}{metal\_dma\_unmap()}}
{\footnotesize\ttfamily void metal\+\_\+dma\+\_\+unmap (\begin{DoxyParamCaption}\item[{struct \hyperlink{structmetal__device}{metal\+\_\+device} $\ast$}]{dev,  }\item[{uint32\+\_\+t}]{dir,  }\item[{struct \hyperlink{structmetal__sg}{metal\+\_\+sg} $\ast$}]{sg,  }\item[{int}]{nents }\end{DoxyParamCaption})}



Unmap D\+MA memory After the memory is D\+MA unmapped, the memory should be accessed by the C\+PU but not the D\+MA device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em dev} & D\+MA device \\
\hline
\mbox{\tt in}  & {\em dir} & D\+MA direction \\
\hline
\mbox{\tt in}  & {\em sg} & sg list of mapped D\+MA memory \\
\hline
\mbox{\tt in}  & {\em nents} & number of sg list entries of D\+MA memory \\
\hline
\end{DoxyParams}
