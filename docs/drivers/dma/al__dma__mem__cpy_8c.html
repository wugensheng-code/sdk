<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AL9000 Project: fpsoc/driver/ps_driver/dma/example/al_dma_mem_cpy.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AL9000 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76ac82f562da316b2309805d3956dd01.html">fpsoc</a></li><li class="navelem"><a class="el" href="dir_57d5b9b58f4b925378ff2c5e15cdb3b5.html">driver</a></li><li class="navelem"><a class="el" href="dir_a142bca7253ca5dd8b1ad96ffc0e37e7.html">ps_driver</a></li><li class="navelem"><a class="el" href="dir_02968f11321396ad5945446bc62d274e.html">dma</a></li><li class="navelem"><a class="el" href="dir_93b61bbdfcb2623e560934ac93597189.html">example</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">al_dma_mem_cpy.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>axi dma mem cpy example  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;malloc.h&gt;</code><br />
<code>#include &quot;<a class="el" href="al__dma__hal_8h_source.html">al_dma_hal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for al_dma_mem_cpy.c:</div>
<div class="dyncontent">
<div class="center"><img src="al__dma__mem__cpy_8c__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy_8c" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy_8c" id="fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a750e48f6c0e9e07c8d3c31482367b227"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy_8c.html#a750e48f6c0e9e07c8d3c31482367b227">AL_DMA_EX_DATA_SIZE</a>&#160;&#160;&#160;(1024)</td></tr>
<tr class="separator:a750e48f6c0e9e07c8d3c31482367b227"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab3df5c9e4a98f106d39c163212888aa0"><td class="memItemLeft" align="right" valign="top">static AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy_8c.html#ab3df5c9e4a98f106d39c163212888aa0">AlDma_Test_MemCpy</a> (AL_VOID)</td></tr>
<tr class="separator:ab3df5c9e4a98f106d39c163212888aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7692d86a53d32e905d9d4b3dd8a1d19d"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy_8c.html#a7692d86a53d32e905d9d4b3dd8a1d19d">main</a> (AL_VOID)</td></tr>
<tr class="separator:a7692d86a53d32e905d9d4b3dd8a1d19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>axi dma mem cpy example </p>
<dl class="section author"><dt>Author</dt><dd>Anlogic esw team </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V0.0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-09-01 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a750e48f6c0e9e07c8d3c31482367b227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750e48f6c0e9e07c8d3c31482367b227">&#9670;&nbsp;</a></span>AL_DMA_EX_DATA_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AL_DMA_EX_DATA_SIZE&#160;&#160;&#160;(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_8c-example.html#a3">al_dma_mem_cpy.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab3df5c9e4a98f106d39c163212888aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3df5c9e4a98f106d39c163212888aa0">&#9670;&nbsp;</a></span>AlDma_Test_MemCpy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AL_S32 AlDma_Test_MemCpy </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function allocates aligned memory for source and destination buffers, initializes local interrupts, and enters a loop where it continuously updates the source buffer, performs a memory copy from source to destination, verifies the copied data, and clears the destination buffer for the next iteration. It logs each step of the process and checks for errors. If an error occurs during memory copy or data verification, it logs the error and exits. The function also handles cache flushing if MMU is enabled.</p>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK if the memory copy and verification are successful, or an error code if an error occurs. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_8c-example.html#a0">al_dma_mem_cpy.c</a>.</dd>
</dl>
</div>
</div>
<a id="a7692d86a53d32e905d9d4b3dd8a1d19d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7692d86a53d32e905d9d4b3dd8a1d19d">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 main </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the DMA memory copy test, executes it, and logs the result. If the test fails, it logs an error message and returns the error code.</p>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK if the test is successful, or an error code if the test fails. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_8c-example.html#a1">al_dma_mem_cpy.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
