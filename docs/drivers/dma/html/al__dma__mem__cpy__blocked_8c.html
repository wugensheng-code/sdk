<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AL9000 Project: fpsoc/driver/ps_driver/dma/example/al_dma_mem_cpy_blocked.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AL9000 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76ac82f562da316b2309805d3956dd01.html">fpsoc</a></li><li class="navelem"><a class="el" href="dir_57d5b9b58f4b925378ff2c5e15cdb3b5.html">driver</a></li><li class="navelem"><a class="el" href="dir_a142bca7253ca5dd8b1ad96ffc0e37e7.html">ps_driver</a></li><li class="navelem"><a class="el" href="dir_02968f11321396ad5945446bc62d274e.html">dma</a></li><li class="navelem"><a class="el" href="dir_93b61bbdfcb2623e560934ac93597189.html">example</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">al_dma_mem_cpy_blocked.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;malloc.h&gt;</code><br />
<code>#include &quot;<a class="el" href="al__dma__hal_8h_source.html">al_dma_hal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for al_dma_mem_cpy_blocked.c:</div>
<div class="dyncontent">
<div class="center"><img src="al__dma__mem__cpy__blocked_8c__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy__blocked_8c" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy__blocked_8c" id="fpsoc_2driver_2ps__driver_2dma_2example_2al__dma__mem__cpy__blocked_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a750e48f6c0e9e07c8d3c31482367b227"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy__blocked_8c.html#a750e48f6c0e9e07c8d3c31482367b227">AL_DMA_EX_DATA_SIZE</a>&#160;&#160;&#160;(1024)</td></tr>
<tr class="separator:a750e48f6c0e9e07c8d3c31482367b227"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d0acd809f9974fe85fbc250ce73ac6f"><td class="memItemLeft" align="right" valign="top">static AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy__blocked_8c.html#a8d0acd809f9974fe85fbc250ce73ac6f">AlDma_Test_MemCpyBlocked</a> (AL_VOID)</td></tr>
<tr class="separator:a8d0acd809f9974fe85fbc250ce73ac6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7692d86a53d32e905d9d4b3dd8a1d19d"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy__blocked_8c.html#a7692d86a53d32e905d9d4b3dd8a1d19d">main</a> (AL_VOID)</td></tr>
<tr class="separator:a7692d86a53d32e905d9d4b3dd8a1d19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adcad34532e963b9ae582a8dc2821a642"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAL__DMA__ChCfgStruct.html">AL_DMA_ChCfgStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__dma__mem__cpy__blocked_8c.html#adcad34532e963b9ae582a8dc2821a642">Config</a></td></tr>
<tr class="separator:adcad34532e963b9ae582a8dc2821a642"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a750e48f6c0e9e07c8d3c31482367b227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750e48f6c0e9e07c8d3c31482367b227">&#9670;&nbsp;</a></span>AL_DMA_EX_DATA_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AL_DMA_EX_DATA_SIZE&#160;&#160;&#160;(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_blocked_8c-example.html#a8">al_dma_mem_cpy_blocked.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8d0acd809f9974fe85fbc250ce73ac6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0acd809f9974fe85fbc250ce73ac6f">&#9670;&nbsp;</a></span>AlDma_Test_MemCpyBlocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AL_S32 AlDma_Test_MemCpyBlocked </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function allocates source and destination memory buffers, initializes the DMA hardware for a memory to memory transfer, and performs a series of memory copy operations in a loop. Each loop iteration copies data from the source buffer to the destination buffer, verifies the copied data, and then clears the destination buffer for the next iteration. It also handles cache flushing if MMU is enabled. If any step fails, it logs the error, releases resources, and returns the error code.</p>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on success or an error code on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_blocked_8c-example.html#a5">al_dma_mem_cpy_blocked.c</a>.</dd>
</dl>
</div>
</div>
<a id="a7692d86a53d32e905d9d4b3dd8a1d19d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7692d86a53d32e905d9d4b3dd8a1d19d">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 main </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the DMA hardware, performs a memory copy operation in a blocked manner, and then deinitializes the DMA hardware. It logs information about the operation and checks for errors at each step. If an error occurs, it logs the error and exits with the error code.</p>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on success or an error code on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_blocked_8c-example.html#a6">al_dma_mem_cpy_blocked.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adcad34532e963b9ae582a8dc2821a642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcad34532e963b9ae582a8dc2821a642">&#9670;&nbsp;</a></span>Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAL__DMA__ChCfgStruct.html">AL_DMA_ChCfgStruct</a> Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    .Direction      = <a class="code" href="group__DMA__Exported__Definition__Group1.html#ggab86db94f31121b351cd50edcb49a4417ad1dbede1911411f57ee96d9d797c19bf">DMA_MEM_TO_MEM</a>,</div><div class="line">    .SrcAddrWidth   = <a class="code" href="group__DMA__Exported__Definition__Group1.html#ggacd9d16f9aafdfa3c6bdaf8a77ec66ba4acb93a354474bc837da510c663577917d">DMA_CH_BUSWIDTH_32_BYTES</a>,</div><div class="line">    .DstAddrWidth   = <a class="code" href="group__DMA__Exported__Definition__Group1.html#ggacd9d16f9aafdfa3c6bdaf8a77ec66ba4acb93a354474bc837da510c663577917d">DMA_CH_BUSWIDTH_32_BYTES</a>,</div><div class="line">    .SrcMaxBurst    = 16,</div><div class="line">    .DstMaxBurst    = 4,</div><div class="line">}</div><div class="ttc" id="group__DMA__Exported__Definition__Group1_html_ggab86db94f31121b351cd50edcb49a4417ad1dbede1911411f57ee96d9d797c19bf"><div class="ttname"><a href="group__DMA__Exported__Definition__Group1.html#ggab86db94f31121b351cd50edcb49a4417ad1dbede1911411f57ee96d9d797c19bf">DMA_MEM_TO_MEM</a></div><div class="ttdef"><b>Definition:</b> al_dma_dev.h:75</div></div>
<div class="ttc" id="group__DMA__Exported__Definition__Group1_html_ggacd9d16f9aafdfa3c6bdaf8a77ec66ba4acb93a354474bc837da510c663577917d"><div class="ttname"><a href="group__DMA__Exported__Definition__Group1.html#ggacd9d16f9aafdfa3c6bdaf8a77ec66ba4acb93a354474bc837da510c663577917d">DMA_CH_BUSWIDTH_32_BYTES</a></div><div class="ttdef"><b>Definition:</b> al_dma_dev.h:94</div></div>
</div><!-- fragment --><dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_dma_mem_cpy_blocked_8c-example.html#a1">al_dma_mem_cpy_blocked.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
