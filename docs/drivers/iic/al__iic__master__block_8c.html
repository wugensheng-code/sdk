<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AL9000 Project: fpsoc/driver/ps_driver/iic/example/al_iic_master_block.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AL9000 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76ac82f562da316b2309805d3956dd01.html">fpsoc</a></li><li class="navelem"><a class="el" href="dir_57d5b9b58f4b925378ff2c5e15cdb3b5.html">driver</a></li><li class="navelem"><a class="el" href="dir_a142bca7253ca5dd8b1ad96ffc0e37e7.html">ps_driver</a></li><li class="navelem"><a class="el" href="dir_31db14f590838de67739a562f9834602.html">iic</a></li><li class="navelem"><a class="el" href="dir_95e75096bd2b22bfa16c800a301bc5bc.html">example</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">al_iic_master_block.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>al_iic_master_block  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="al__iic__hal_8h_source.html">al_iic_hal.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for al_iic_master_block.c:</div>
<div class="dyncontent">
<div class="center"><img src="al__iic__master__block_8c__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2iic_2example_2al__iic__master__block_8c" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2iic_2example_2al__iic__master__block_8c" id="fpsoc_2driver_2ps__driver_2iic_2example_2al__iic__master__block_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a839bd5ceecbd4611cc1d7f00a0517c8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a839bd5ceecbd4611cc1d7f00a0517c8b">AL_IIC_DEVICE_ID</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a839bd5ceecbd4611cc1d7f00a0517c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72556bbbf308e15125b1010c3707a0ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a72556bbbf308e15125b1010c3707a0ad">TEST_SLAVE_ADDR</a>&#160;&#160;&#160;0x77</td></tr>
<tr class="separator:a72556bbbf308e15125b1010c3707a0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fdaf3af5cc5ffebce52b690b833a783"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a8fdaf3af5cc5ffebce52b690b833a783">IIC_MASTER_TEST_TIMEOUT_MS</a>&#160;&#160;&#160;100</td></tr>
<tr class="separator:a8fdaf3af5cc5ffebce52b690b833a783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad02ab61f37d20ecedd7acfbc5c42ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a8ad02ab61f37d20ecedd7acfbc5c42ed">IIC_MUX_ADDRESS</a>&#160;&#160;&#160;0x74</td></tr>
<tr class="separator:a8ad02ab61f37d20ecedd7acfbc5c42ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a10963ec81e96ced787bcff8065ed5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a54a10963ec81e96ced787bcff8065ed5">BOARD_DR1X90_AD101_V20</a></td></tr>
<tr class="separator:a54a10963ec81e96ced787bcff8065ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad00c453d684b228b40eca22b5e1f86d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#ad00c453d684b228b40eca22b5e1f86d8">FMC_IIC_CHANNEL</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:ad00c453d684b228b40eca22b5e1f86d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa25df3ad9988e53494ea73c24b618dd9"><td class="memItemLeft" align="right" valign="top">static AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#aa25df3ad9988e53494ea73c24b618dd9">AlIic_MuxInit</a> (<a class="el" href="structAL__IIC__HalStruct.html">AL_IIC_HalStruct</a> *Handle)</td></tr>
<tr class="separator:aa25df3ad9988e53494ea73c24b618dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c6b9823303d5b5f23d0634044b07c5"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#a00c6b9823303d5b5f23d0634044b07c5">AlIic_MasterBlockExample</a> ()</td></tr>
<tr class="separator:a00c6b9823303d5b5f23d0634044b07c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__iic__master__block_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>al_iic_master_block </p>
<dl class="section author"><dt>Author</dt><dd>Anlogic esw team </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V0.0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-09-08 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a839bd5ceecbd4611cc1d7f00a0517c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a839bd5ceecbd4611cc1d7f00a0517c8b">&#9670;&nbsp;</a></span>AL_IIC_DEVICE_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AL_IIC_DEVICE_ID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a14">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="a54a10963ec81e96ced787bcff8065ed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a10963ec81e96ced787bcff8065ed5">&#9670;&nbsp;</a></span>BOARD_DR1X90_AD101_V20</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOARD_DR1X90_AD101_V20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b20d41d6252e9871430c242cb1a56e7">&#9670;&nbsp;</a></span>BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a11">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="ad00c453d684b228b40eca22b5e1f86d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad00c453d684b228b40eca22b5e1f86d8">&#9670;&nbsp;</a></span>FMC_IIC_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FMC_IIC_CHANNEL&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a2">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="a8fdaf3af5cc5ffebce52b690b833a783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fdaf3af5cc5ffebce52b690b833a783">&#9670;&nbsp;</a></span>IIC_MASTER_TEST_TIMEOUT_MS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IIC_MASTER_TEST_TIMEOUT_MS&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a5">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="a8ad02ab61f37d20ecedd7acfbc5c42ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad02ab61f37d20ecedd7acfbc5c42ed">&#9670;&nbsp;</a></span>IIC_MUX_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IIC_MUX_ADDRESS&#160;&#160;&#160;0x74</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a4">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="a72556bbbf308e15125b1010c3707a0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72556bbbf308e15125b1010c3707a0ad">&#9670;&nbsp;</a></span>TEST_SLAVE_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_SLAVE_ADDR&#160;&#160;&#160;0x77</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a12">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a00c6b9823303d5b5f23d0634044b07c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c6b9823303d5b5f23d0634044b07c5">&#9670;&nbsp;</a></span>AlIic_MasterBlockExample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlIic_MasterBlockExample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the I2C interface with the specified device ID and configuration, then sends a predefined block of data to a slave device with a specific address. After sending the data, it attempts to receive a block of data from the same slave device. Both the sending and receiving operations are performed with a specified timeout. The received data is then printed to the console. This function demonstrates the basic send and receive capabilities of the I2C interface using the HAL layer.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AL_OK if both send and receive operations were successful, otherwise returns an error code. Specific error codes indicate whether the initialization, send, or receive operations failed. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a6">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="aa25df3ad9988e53494ea73c24b618dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25df3ad9988e53494ea73c24b618dd9">&#9670;&nbsp;</a></span>AlIic_MuxInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static AL_S32 AlIic_MuxInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__IIC__HalStruct.html">AL_IIC_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function sets the I2C multiplexer to the correct channel for EEPROM communication. It sends a single byte, which is the channel number, to the I2C multiplexer's address. After sending the channel number, it waits for 100 milliseconds to ensure the multiplexer has switched to the correct channel before proceeding with further I2C operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the IIC HAL structure, which contains the configuration and state information required by the HAL functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK if the multiplexer was successfully initialized, otherwise returns an error code indicating the failure reason. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a0">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is the starting point of the program. It calls the AlIic_MasterBlockExample function to demonstrate the I2C send and receive functionality. The function returns 0 upon successful completion of the demonstration.</p>
<dl class="section return"><dt>Returns</dt><dd>int Returns 0 upon successful completion. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_iic_master_block_8c-example.html#a16">al_iic_master_block.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
