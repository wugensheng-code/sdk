<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AL9000 Project: fpsoc/driver/ps_driver/qspi/inc/al_qspi_hal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AL9000 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76ac82f562da316b2309805d3956dd01.html">fpsoc</a></li><li class="navelem"><a class="el" href="dir_57d5b9b58f4b925378ff2c5e15cdb3b5.html">driver</a></li><li class="navelem"><a class="el" href="dir_a142bca7253ca5dd8b1ad96ffc0e37e7.html">ps_driver</a></li><li class="navelem"><a class="el" href="dir_b5a69772890edcf3614427a24e64fdda.html">qspi</a></li><li class="navelem"><a class="el" href="dir_2d671e2f2a14c4672409eed09d34b1da.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">al_qspi_hal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="al__qspi__dev_8h_source.html">al_qspi_dev.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for al_qspi_hal.h:</div>
<div class="dyncontent">
<div class="center"><img src="al__qspi__hal_8h__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8h" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8h" id="fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="al__qspi__hal_8h__dep__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8hdep" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8hdep" id="fpsoc_2driver_2ps__driver_2qspi_2inc_2al__qspi__hal_8hdep">
</map>
</div>
</div>
<p><a href="al__qspi__hal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af3ae4142fef8d74b57e08642e0b617de"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#af3ae4142fef8d74b57e08642e0b617de">AlQspi_Hal_Init</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> **<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, <a class="el" href="structAL__QSPI__ConfigsStruct.html">AL_QSPI_ConfigsStruct</a> *InitConfig, <a class="el" href="al__qspi__dev_8h.html#a832d15108b0cb59ff4fd25c4e2ca3c78">QSPI_EventCallBack</a> Callback, AL_U32 DevId)</td></tr>
<tr class="separator:af3ae4142fef8d74b57e08642e0b617de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9416b5ad136601954215013482a46049"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a9416b5ad136601954215013482a46049">AlQspi_Hal_SendDataBlock</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *Data, AL_U32 Size, AL_U32 Timeout)</td></tr>
<tr class="separator:a9416b5ad136601954215013482a46049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418f27dee46ba3077c2964da4cb5cbd7"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a418f27dee46ba3077c2964da4cb5cbd7">AlQspi_Hal_RecvDataBlock</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *Data, AL_U32 Size, AL_U32 Timeout)</td></tr>
<tr class="separator:a418f27dee46ba3077c2964da4cb5cbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597b272f35f74186c817d76ee7fa7cdc"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a597b272f35f74186c817d76ee7fa7cdc">AlQspi_Hal_TranferDataBlock</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#a7650c8650fd9e62f08934826c5e26f80">SendData</a>, AL_U32 SendSize, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#ae11238bc0ad7e31b9c43edb43771783d">RecvData</a>, AL_U16 RecvSize, AL_U32 Timeout)</td></tr>
<tr class="separator:a597b272f35f74186c817d76ee7fa7cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7540ff949436edc99fb2a01a76b85e"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a4e7540ff949436edc99fb2a01a76b85e">AlQspi_Hal_DmaStartBlockSend</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#a7650c8650fd9e62f08934826c5e26f80">SendData</a>, AL_U8 *<a class="el" href="al__qspi__dma__nor_8c.html#ae613437ce43155f245ac5667b049bd37">InstAndAddr</a>, AL_U32 SendDataSize, AL_U32 Timeout)</td></tr>
<tr class="separator:a4e7540ff949436edc99fb2a01a76b85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30894cbde2cdddfb4927fe494114e1c5"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a30894cbde2cdddfb4927fe494114e1c5">AlQspi_Hal_DmaStartBlockReceive</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#ae11238bc0ad7e31b9c43edb43771783d">RecvData</a>, AL_U16 RecvSize, AL_U32 Timeout)</td></tr>
<tr class="separator:a30894cbde2cdddfb4927fe494114e1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af76b5b3dfa4f53f842a3e37f98c94864"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#af76b5b3dfa4f53f842a3e37f98c94864">AlQspi_Hal_DmaStartBlockTranfer</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#a7650c8650fd9e62f08934826c5e26f80">SendData</a>, AL_U32 SendSize, AL_U8 *<a class="el" href="al__qspi__x4__nor_8c.html#ae11238bc0ad7e31b9c43edb43771783d">RecvData</a>, AL_U16 RecvSize, AL_U32 Timeout)</td></tr>
<tr class="separator:af76b5b3dfa4f53f842a3e37f98c94864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790826fe19dd3674218ccc13f4c2bcf6"><td class="memItemLeft" align="right" valign="top">AL_S32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__hal_8h.html#a790826fe19dd3674218ccc13f4c2bcf6">AlQspi_Hal_IoCtl</a> (<a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *<a class="el" href="al__qspi__x4__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a>, <a class="el" href="al__qspi__dev_8h.html#aa698df3cd53ab9126c3fa7711266d081">AL_Qspi_IoCtlCmdEnum</a> Cmd, AL_VOID *Data, AL_U32 Timeout)</td></tr>
<tr class="separator:a790826fe19dd3674218ccc13f4c2bcf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a30894cbde2cdddfb4927fe494114e1c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30894cbde2cdddfb4927fe494114e1c5">&#9670;&nbsp;</a></span>AlQspi_Hal_DmaStartBlockReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_DmaStartBlockReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>RecvData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U16&#160;</td>
          <td class="paramname"><em>RecvSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function prepares the DMA controller for receiving data over QSPI. It sets up the DMA channel for reception, including the destination address and size. It then initiates the DMA transfer and waits for it to complete or timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the QSPI handle which contains the device configuration and state. </td></tr>
    <tr><td class="paramname">RecvData</td><td>Pointer to the buffer where the received data will be stored. </td></tr>
    <tr><td class="paramname">RecvSize</td><td>Size of the data to be received. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Time in milliseconds to wait for the operation to complete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on success, or an error code on failure. </dd></dl>

</div>
</div>
<a id="a4e7540ff949436edc99fb2a01a76b85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7540ff949436edc99fb2a01a76b85e">&#9670;&nbsp;</a></span>AlQspi_Hal_DmaStartBlockSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_DmaStartBlockSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>SendData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>InstAndAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>SendDataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function configures the DMA controller for sending data over QSPI. It sets up the DMA channel, including the source and destination addresses, transfer size, and other parameters. It then starts the DMA transfer and waits for it to complete or timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the QSPI handle which contains the device configuration and state. </td></tr>
    <tr><td class="paramname">SendData</td><td>Pointer to the data to be sent. </td></tr>
    <tr><td class="paramname">InstAndAddr</td><td>Pointer to the instruction and address bytes to be sent before the data. </td></tr>
    <tr><td class="paramname">SendDataSize</td><td>Size of the data to be sent. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Time in milliseconds to wait for the operation to complete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on success, or an error code on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a27">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="af76b5b3dfa4f53f842a3e37f98c94864"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76b5b3dfa4f53f842a3e37f98c94864">&#9670;&nbsp;</a></span>AlQspi_Hal_DmaStartBlockTranfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_DmaStartBlockTranfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>SendData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>SendSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>RecvData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U16&#160;</td>
          <td class="paramname"><em>RecvSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function configures the DMA channels for both transmission and reception, initializes the DMA with the given parameters, and starts the transfer. It handles the locking mechanism to ensure thread safety and checks for valid input parameters. The function calculates the temporary send size based on the address and instruction length from the QSPI configuration, sets up the DMA channel configurations for both sending and receiving, and initializes the DMA channels. If any step fails, it releases the acquired lock and returns an error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the QSPI handle which contains configuration and state information. </td></tr>
    <tr><td class="paramname">SendData</td><td>Pointer to the buffer containing the data to be sent. </td></tr>
    <tr><td class="paramname">SendSize</td><td>Size of the data to be sent. </td></tr>
    <tr><td class="paramname">RecvData</td><td>Pointer to the buffer where received data will be stored. </td></tr>
    <tr><td class="paramname">RecvSize</td><td>Size of the data to be received. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Time in milliseconds to wait for the lock before starting the transfer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AL_OK on success or an error code on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a38">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="af3ae4142fef8d74b57e08642e0b617de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ae4142fef8d74b57e08642e0b617de">&#9670;&nbsp;</a></span>AlQspi_Hal_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> **&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__ConfigsStruct.html">AL_QSPI_ConfigsStruct</a> *&#160;</td>
          <td class="paramname"><em>InitConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="al__qspi__dev_8h.html#a832d15108b0cb59ff4fd25c4e2ca3c78">QSPI_EventCallBack</a>&#160;</td>
          <td class="paramname"><em>Callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>DevId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the QSPI peripheral with the specified configurations. It looks up the hardware configuration based on the provided device ID, initializes the QSPI device structure, and registers the provided callback function for QSPI events. If no callback is provided, it registers a default event callback function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Double pointer to the <a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> structure that will be initialized and represent the QSPI device. </td></tr>
    <tr><td class="paramname">InitConfig</td><td>Pointer to the <a class="el" href="structAL__QSPI__ConfigsStruct.html" title="Configs Struct. ">AL_QSPI_ConfigsStruct</a> structure containing the desired QSPI configurations. </td></tr>
    <tr><td class="paramname">Callback</td><td>Function pointer to the QSPI event callback function. If NULL, a default callback is used. </td></tr>
    <tr><td class="paramname">DevId</td><td>Hardware module ID of the QSPI peripheral to be initialized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AL_OK if the initialization is successful, otherwise returns an error code indicating the failure reason. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a52">al_qspi_dma_nor.c</a>, <a class="el" href="al_qspi_x1_nor_8c-example.html#a53">al_qspi_x1_nor.c</a>, and <a class="el" href="al_qspi_x4_nor_8c-example.html#a52">al_qspi_x4_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a790826fe19dd3674218ccc13f4c2bcf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790826fe19dd3674218ccc13f4c2bcf6">&#9670;&nbsp;</a></span>AlQspi_Hal_IoCtl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_IoCtl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="al__qspi__dev_8h.html#aa698df3cd53ab9126c3fa7711266d081">AL_Qspi_IoCtlCmdEnum</a>&#160;</td>
          <td class="paramname"><em>Cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_VOID *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is responsible for executing a variety of control commands on the QSPI device. It first ensures that the handle provided is not NULL, indicating a valid QSPI device. Then, it attempts to take a lock on the device to ensure exclusive access during the operation, waiting up to a specified timeout. If the lock is successfully acquired, the function proceeds to execute the specified IOCTL command by calling another function and passing the command and data. Regardless of the success or failure of the command execution, it releases the lock on the device before returning. If any step fails, the function returns an error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the QSPI handle, representing the QSPI device. </td></tr>
    <tr><td class="paramname">Cmd</td><td>The IOCTL command to execute. </td></tr>
    <tr><td class="paramname">Data</td><td>Pointer to the data required for the command, if any. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Maximum time in milliseconds to wait for the lock before proceeding with the command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on successful execution of the command, or an error code if the operation fails. </dd></dl>

</div>
</div>
<a id="a418f27dee46ba3077c2964da4cb5cbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418f27dee46ba3077c2964da4cb5cbd7">&#9670;&nbsp;</a></span>AlQspi_Hal_RecvDataBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_RecvDataBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Similar to AlQspi_Hal_SendDataBlock, this function receives data through the QSPI peripheral in a blocking manner. It waits until the specified amount of data is received or a timeout occurs. It ensures mutual exclusive access to the QSPI peripheral by taking a lock before receiving the data and releasing it afterward.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the <a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> structure representing the QSPI device. </td></tr>
    <tr><td class="paramname">Data</td><td>Pointer to the buffer where the received data will be stored. </td></tr>
    <tr><td class="paramname">Size</td><td>Size of the data to be received, in bytes. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Maximum time to wait for the data to be received, in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AL_OK if the data is received successfully within the timeout period, otherwise returns an error code indicating the failure reason. </dd></dl>

</div>
</div>
<a id="a9416b5ad136601954215013482a46049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9416b5ad136601954215013482a46049">&#9670;&nbsp;</a></span>AlQspi_Hal_SendDataBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_SendDataBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sends data through the QSPI peripheral in a blocking manner, meaning it waits until the data is fully sent or a timeout occurs. It takes the QSPI lock before sending the data and releases it afterward. If the data is sent successfully within the timeout period, it waits for a send done event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the <a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> structure representing the QSPI device. </td></tr>
    <tr><td class="paramname">Data</td><td>Pointer to the data buffer to be sent. </td></tr>
    <tr><td class="paramname">Size</td><td>Size of the data to be sent, in bytes. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Maximum time to wait for the data to be sent, in milliseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AL_OK if the data is sent successfully within the timeout period, otherwise returns an error code indicating the failure reason. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_x1_nor_8c-example.html#a23">al_qspi_x1_nor.c</a>, and <a class="el" href="al_qspi_x4_nor_8c-example.html#a24">al_qspi_x4_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a597b272f35f74186c817d76ee7fa7cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597b272f35f74186c817d76ee7fa7cdc">&#9670;&nbsp;</a></span>AlQspi_Hal_TranferDataBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_S32 AlQspi_Hal_TranferDataBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td>
          <td class="paramname"><em>Handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>SendData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>SendSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>RecvData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U16&#160;</td>
          <td class="paramname"><em>RecvSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initiates a transfer of data blocks over QSPI. It first takes a lock on the QSPI device to ensure exclusive access, then sends the data. It waits for the transmission to complete or timeout before releasing the lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>Pointer to the QSPI handle which contains the device configuration and state. </td></tr>
    <tr><td class="paramname">SendData</td><td>Pointer to the buffer containing the data to be sent. </td></tr>
    <tr><td class="paramname">SendSize</td><td>Size of the data to be sent. </td></tr>
    <tr><td class="paramname">RecvData</td><td>Pointer to the buffer where received data will be stored. </td></tr>
    <tr><td class="paramname">RecvSize</td><td>Size of the receive buffer. </td></tr>
    <tr><td class="paramname">Timeout</td><td>Time in milliseconds to wait for the operation to complete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AL_S32 Returns AL_OK on success, AL_QSPI_ERR_TIMEOUT if the operation times out, or other error codes on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_x1_nor_8c-example.html#a38">al_qspi_x1_nor.c</a>, and <a class="el" href="al_qspi_x4_nor_8c-example.html#a34">al_qspi_x4_nor.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
