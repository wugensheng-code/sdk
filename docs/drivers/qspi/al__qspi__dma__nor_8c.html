<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AL9000 Project: fpsoc/driver/ps_driver/qspi/example/al_qspi_dma_nor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AL9000 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_76ac82f562da316b2309805d3956dd01.html">fpsoc</a></li><li class="navelem"><a class="el" href="dir_57d5b9b58f4b925378ff2c5e15cdb3b5.html">driver</a></li><li class="navelem"><a class="el" href="dir_a142bca7253ca5dd8b1ad96ffc0e37e7.html">ps_driver</a></li><li class="navelem"><a class="el" href="dir_b5a69772890edcf3614427a24e64fdda.html">qspi</a></li><li class="navelem"><a class="el" href="dir_5fead9984ef70401bb9f00e37c6a0450.html">example</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">al_qspi_dma_nor.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>qspi dma nor example  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="al__qspi__hal_8h_source.html">al_qspi_hal.h</a>&quot;</code><br />
<code>#include &quot;al_spinor.h&quot;</code><br />
<code>#include &quot;al_dmacahb_hal.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for al_qspi_dma_nor.c:</div>
<div class="dyncontent">
<div class="center"><img src="al__qspi__dma__nor_8c__incl.png" border="0" usemap="#fpsoc_2driver_2ps__driver_2qspi_2example_2al__qspi__dma__nor_8c" alt=""/></div>
<map name="fpsoc_2driver_2ps__driver_2qspi_2example_2al__qspi__dma__nor_8c" id="fpsoc_2driver_2ps__driver_2qspi_2example_2al__qspi__dma__nor_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>&#160;&#160;&#160;(256)</td></tr>
<tr class="separator:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e5819895547f8d034f6918e179aee7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a08e5819895547f8d034f6918e179aee7">DMA_MAX_SIZE</a>&#160;&#160;&#160;(4095)</td></tr>
<tr class="separator:a08e5819895547f8d034f6918e179aee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffc7bcd50015cae98ad6b1f3e240c03"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#adffc7bcd50015cae98ad6b1f3e240c03">WRITE_SIZE</a>&#160;&#160;&#160;(4096)</td></tr>
<tr class="separator:adffc7bcd50015cae98ad6b1f3e240c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af101fb06b931755e28c0f6925e83896c"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#af101fb06b931755e28c0f6925e83896c">AlNorDma_InfineonReset</a> (AL_VOID)</td></tr>
<tr class="separator:af101fb06b931755e28c0f6925e83896c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf5770ef1a4b82c33c5ed7a32855779"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#adaf5770ef1a4b82c33c5ed7a32855779">AlNorDma_Reset</a> (AL_VOID)</td></tr>
<tr class="separator:adaf5770ef1a4b82c33c5ed7a32855779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9851b85ed9d7bb369f437810d1559b24"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a9851b85ed9d7bb369f437810d1559b24">AlNorDma_Wren</a> (AL_VOID)</td></tr>
<tr class="separator:a9851b85ed9d7bb369f437810d1559b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6edaac5adb0d12f2ad05490687e7710b"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a6edaac5adb0d12f2ad05490687e7710b">AlNorDma_WaitWip</a> (AL_VOID)</td></tr>
<tr class="separator:a6edaac5adb0d12f2ad05490687e7710b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f5a240a38791f4e5d61b8cd886857b7"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a4f5a240a38791f4e5d61b8cd886857b7">AlNorDma_ReadStatus</a> (AL_VOID)</td></tr>
<tr class="separator:a4f5a240a38791f4e5d61b8cd886857b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5501c918bf0336be5efc994730ae9bb9"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a5501c918bf0336be5efc994730ae9bb9">AlNorDma_Erase</a> (AL_U32 Addr)</td></tr>
<tr class="separator:a5501c918bf0336be5efc994730ae9bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a6aba8fbae04bab2c7ef7302db59be"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a74a6aba8fbae04bab2c7ef7302db59be">AlNorDma_ReadPage</a> (AL_U32 Addr, AL_U8 *Data, AL_U32 Size)</td></tr>
<tr class="separator:a74a6aba8fbae04bab2c7ef7302db59be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a974f53f83c3b7ed7ec237b9c29444a73"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a974f53f83c3b7ed7ec237b9c29444a73">AlNorDma_WritePage</a> (AL_U32 Addr, AL_U8 *Data, AL_U32 Size)</td></tr>
<tr class="separator:a974f53f83c3b7ed7ec237b9c29444a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58c84c0c61bceea0fc32ce0e591babc"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#ac58c84c0c61bceea0fc32ce0e591babc">AlNorDma_ReadId</a> (AL_VOID)</td></tr>
<tr class="separator:ac58c84c0c61bceea0fc32ce0e591babc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92242e4ff3088430e88954a1c6a8c0b8"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a92242e4ff3088430e88954a1c6a8c0b8">AlNorDma_WriteFlash</a> (AL_U32 Addr, AL_U8 *Data, AL_U32 Size)</td></tr>
<tr class="separator:a92242e4ff3088430e88954a1c6a8c0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc4f655e1426719b8780eb9eb68f713"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a5bc4f655e1426719b8780eb9eb68f713">AlNorDma_ReadFlash</a> (AL_U32 Addr, AL_U8 *Data, AL_U32 Size)</td></tr>
<tr class="separator:a5bc4f655e1426719b8780eb9eb68f713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6038279d7dd467ac883f4ef5dca9116e"><td class="memItemLeft" align="right" valign="top">AL_VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a6038279d7dd467ac883f4ef5dca9116e">main</a> (AL_VOID)</td></tr>
<tr class="memdesc:a6038279d7dd467ac883f4ef5dca9116e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for the Qspi DMA test.  <a href="#a6038279d7dd467ac883f4ef5dca9116e">More...</a><br /></td></tr>
<tr class="separator:a6038279d7dd467ac883f4ef5dca9116e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a730f3132261b14406d4c74ab11abf154"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a730f3132261b14406d4c74ab11abf154">Handle</a></td></tr>
<tr class="separator:a730f3132261b14406d4c74ab11abf154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7392deb0758ba0a245d61b9e9a64aaf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAL__QSPI__ConfigsStruct.html">AL_QSPI_ConfigsStruct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a7392deb0758ba0a245d61b9e9a64aaf3">QspiX4InitConfigs</a></td></tr>
<tr class="separator:a7392deb0758ba0a245d61b9e9a64aaf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab56b9e574e1d69a5efd849c28d6d76a4"><td class="memItemLeft" align="right" valign="top">AL_U8 CACHE_LINE_ALIGN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#ab56b9e574e1d69a5efd849c28d6d76a4">FlashId</a> [10] = { 0x0 }</td></tr>
<tr class="separator:ab56b9e574e1d69a5efd849c28d6d76a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0772b5cd7572f59985dd164813d8f998"><td class="memItemLeft" align="right" valign="top">AL_U8 CACHE_LINE_ALIGN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a0772b5cd7572f59985dd164813d8f998">DmaSendData</a> [<a class="el" href="al__qspi__x4__nor_8c.html#adffc7bcd50015cae98ad6b1f3e240c03">WRITE_SIZE</a>] = { 0x0 }</td></tr>
<tr class="separator:a0772b5cd7572f59985dd164813d8f998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f2e331ea5f697948b6243fcecd9185"><td class="memItemLeft" align="right" valign="top">AL_U8 CACHE_LINE_ALIGN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#a37f2e331ea5f697948b6243fcecd9185">DmaRecvData</a> [<a class="el" href="al__qspi__x4__nor_8c.html#adffc7bcd50015cae98ad6b1f3e240c03">WRITE_SIZE</a>] = { 0x0 }</td></tr>
<tr class="separator:a37f2e331ea5f697948b6243fcecd9185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae613437ce43155f245ac5667b049bd37"><td class="memItemLeft" align="right" valign="top">AL_U8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="al__qspi__dma__nor_8c.html#ae613437ce43155f245ac5667b049bd37">InstAndAddr</a> [10] = { 0x0 }</td></tr>
<tr class="separator:ae613437ce43155f245ac5667b049bd37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>qspi dma nor example </p>
<dl class="section author"><dt>Author</dt><dd>Anlogic esw team </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V0.0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-09-01 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a08e5819895547f8d034f6918e179aee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e5819895547f8d034f6918e179aee7">&#9670;&nbsp;</a></span>DMA_MAX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DMA_MAX_SIZE&#160;&#160;&#160;(4095)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a46">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a7d467c1d283fdfa1f2081ba1e0d01b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d467c1d283fdfa1f2081ba1e0d01b6e">&#9670;&nbsp;</a></span>PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_SIZE&#160;&#160;&#160;(256)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a54">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="adffc7bcd50015cae98ad6b1f3e240c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffc7bcd50015cae98ad6b1f3e240c03">&#9670;&nbsp;</a></span>WRITE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_SIZE&#160;&#160;&#160;(4096)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a10">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5501c918bf0336be5efc994730ae9bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5501c918bf0336be5efc994730ae9bb9">&#9670;&nbsp;</a></span>AlNorDma_Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_Erase </td>
          <td>(</td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erases a sector in the NOR flash memory using DMA. This function configures the QSPI controller for a transmit-only operation, sets up the sector erase (SE) command with the target sector address, and initiates the erase operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Addr</td><td>The address of the sector to erase. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a42">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="af101fb06b931755e28c0f6925e83896c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af101fb06b931755e28c0f6925e83896c">&#9670;&nbsp;</a></span>AlNorDma_InfineonReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_InfineonReset </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the Infineon NOR flash memory using DMA. This function configures the QSPI controller for a transmit-only operation, sets the instruction to the Infineon-specific software reset command, and initiates a block send operation via DMA.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a13">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a5bc4f655e1426719b8780eb9eb68f713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc4f655e1426719b8780eb9eb68f713">&#9670;&nbsp;</a></span>AlNorDma_ReadFlash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_ReadFlash </td>
          <td>(</td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call AlNorDma_ReadPage to read data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Addr</td><td>The address of the page to read. </td></tr>
    <tr><td class="paramname">Data</td><td>A pointer to the buffer where received data will be stored. </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the data buffer to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a55">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="ac58c84c0c61bceea0fc32ce0e591babc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac58c84c0c61bceea0fc32ce0e591babc">&#9670;&nbsp;</a></span>AlNorDma_ReadId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_ReadId </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the identification (ID) of the NOR flash memory using DMA. This function configures the QSPI controller for EEPROM mode, sets up the read ID (RDID) command, and performs a block transfer to read the flash memory's ID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a51">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a74a6aba8fbae04bab2c7ef7302db59be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a6aba8fbae04bab2c7ef7302db59be">&#9670;&nbsp;</a></span>AlNorDma_ReadPage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_ReadPage </td>
          <td>(</td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a page from the NOR flash memory using DMA. This function sets the QSPI controller for a receive-only operation, configures it for quad I/O read mode, sets up the read command with the target page address, and performs a block transfer to read the page data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Addr</td><td>The address of the page to read. </td></tr>
    <tr><td class="paramname">Data</td><td>A pointer to the buffer where received data will be stored. </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the data buffer to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a45">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a4f5a240a38791f4e5d61b8cd886857b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f5a240a38791f4e5d61b8cd886857b7">&#9670;&nbsp;</a></span>AlNorDma_ReadStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_ReadStatus </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads the status register of the NOR flash memory using DMA. This function configures the QSPI controller for EEPROM mode, sets up the read status register (RDSR) command, and performs a block transfer to read the status register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a41">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="adaf5770ef1a4b82c33c5ed7a32855779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf5770ef1a4b82c33c5ed7a32855779">&#9670;&nbsp;</a></span>AlNorDma_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_Reset </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a generic reset operation on the NOR flash memory using DMA. This function prepares the QSPI controller for a reset operation by setting it to transmit-only mode, configuring the necessary parameters for the reset instruction, and then sends the reset enable and reset commands sequentially to the NOR flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a29">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a6edaac5adb0d12f2ad05490687e7710b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6edaac5adb0d12f2ad05490687e7710b">&#9670;&nbsp;</a></span>AlNorDma_WaitWip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_WaitWip </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Waits for the write-in-progress (WIP) bit to clear in the NOR flash's status register. This function repeatedly reads the status register until the WIP bit is cleared, indicating that the NOR flash is ready for further operations. It uses DMA for the status register read operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a36">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a9851b85ed9d7bb369f437810d1559b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9851b85ed9d7bb369f437810d1559b24">&#9670;&nbsp;</a></span>AlNorDma_Wren()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_Wren </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables write operations on the NOR flash memory using DMA. It sets the QSPI controller to transmit-only mode, configures the necessary parameters, and sends the write enable (WREN) command to the NOR flash to allow write operations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None.</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a34">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a92242e4ff3088430e88954a1c6a8c0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92242e4ff3088430e88954a1c6a8c0b8">&#9670;&nbsp;</a></span>AlNorDma_WriteFlash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_WriteFlash </td>
          <td>(</td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call AlNorDma_WritePage to write data to flash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Addr</td><td>The address of the page to write. </td></tr>
    <tr><td class="paramname">Data</td><td>A pointer to the buffer to be write. </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the data buffer to be write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a53">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a974f53f83c3b7ed7ec237b9c29444a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a974f53f83c3b7ed7ec237b9c29444a73">&#9670;&nbsp;</a></span>AlNorDma_WritePage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID AlNorDma_WritePage </td>
          <td>(</td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U8 *&#160;</td>
          <td class="paramname"><em>Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AL_U32&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a page to the NOR flash memory using DMA. This function prepares the QSPI controller for a transmit-only operation in quad I/O mode, sets up the page program (PP) command with the target page address, fills a buffer with data to write, and initiates the write operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Addr</td><td>The address of the page to write. </td></tr>
    <tr><td class="paramname">Data</td><td>A pointer to the buffer to be write. </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the data buffer to be write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a49">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a6038279d7dd467ac883f4ef5dca9116e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6038279d7dd467ac883f4ef5dca9116e">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_VOID main </td>
          <td>(</td>
          <td class="paramtype">AL_VOID&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function for the Qspi DMA test. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a56">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a37f2e331ea5f697948b6243fcecd9185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f2e331ea5f697948b6243fcecd9185">&#9670;&nbsp;</a></span>DmaRecvData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_U8 CACHE_LINE_ALIGN DmaRecvData[<a class="el" href="al__qspi__x4__nor_8c.html#adffc7bcd50015cae98ad6b1f3e240c03">WRITE_SIZE</a>] = { 0x0 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a11">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a0772b5cd7572f59985dd164813d8f998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0772b5cd7572f59985dd164813d8f998">&#9670;&nbsp;</a></span>DmaSendData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_U8 CACHE_LINE_ALIGN DmaSendData[<a class="el" href="al__qspi__x4__nor_8c.html#adffc7bcd50015cae98ad6b1f3e240c03">WRITE_SIZE</a>] = { 0x0 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a9">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="ab56b9e574e1d69a5efd849c28d6d76a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab56b9e574e1d69a5efd849c28d6d76a4">&#9670;&nbsp;</a></span>FlashId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_U8 CACHE_LINE_ALIGN FlashId[10] = { 0x0 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a8">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a730f3132261b14406d4c74ab11abf154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730f3132261b14406d4c74ab11abf154">&#9670;&nbsp;</a></span>Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAL__QSPI__HalStruct.html">AL_QSPI_HalStruct</a>* Handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a1">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="ae613437ce43155f245ac5667b049bd37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae613437ce43155f245ac5667b049bd37">&#9670;&nbsp;</a></span>InstAndAddr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AL_U8 InstAndAddr[10] = { 0x0 }</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a12">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
<a id="a7392deb0758ba0a245d61b9e9a64aaf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7392deb0758ba0a245d61b9e9a64aaf3">&#9670;&nbsp;</a></span>QspiX4InitConfigs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAL__QSPI__ConfigsStruct.html">AL_QSPI_ConfigsStruct</a> QspiX4InitConfigs</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    .SamplDelay         = 2,</div><div class="line">    .SlvToggleEnum      = <a class="code" href="al__qspi__ll_8h.html#a7aaff9629aedcd4e527fdd4496ab0fa0af742274328165e91920adfcf369f8c3e">QSPI_SLV_TOGGLE_DISABLE</a>,</div><div class="line">    .SpiFrameFormat     = <a class="code" href="al__qspi__ll_8h.html#a2bd9ef512682d525c7f40c318e51027facafc96b90bd2d3b68fd7f75b1510df38">SPI_QUAD_FORMAT</a>,</div><div class="line">    .ClockStretch       = <a class="code" href="al__qspi__ll_8h.html#a8b70aad8148819c27b2aac1e5be893bfa7d32d99ba5ca28418d15a7850c8873a7">QSPI_EnableClockStretch</a></div><div class="line">}</div><div class="ttc" id="al__qspi__ll_8h_html_a8b70aad8148819c27b2aac1e5be893bfa7d32d99ba5ca28418d15a7850c8873a7"><div class="ttname"><a href="al__qspi__ll_8h.html#a8b70aad8148819c27b2aac1e5be893bfa7d32d99ba5ca28418d15a7850c8873a7">QSPI_EnableClockStretch</a></div><div class="ttdef"><b>Definition:</b> al_qspi_ll.h:223</div></div>
<div class="ttc" id="al__qspi__ll_8h_html_a7aaff9629aedcd4e527fdd4496ab0fa0af742274328165e91920adfcf369f8c3e"><div class="ttname"><a href="al__qspi__ll_8h.html#a7aaff9629aedcd4e527fdd4496ab0fa0af742274328165e91920adfcf369f8c3e">QSPI_SLV_TOGGLE_DISABLE</a></div><div class="ttdef"><b>Definition:</b> al_qspi_ll.h:119</div></div>
<div class="ttc" id="al__qspi__ll_8h_html_a2bd9ef512682d525c7f40c318e51027facafc96b90bd2d3b68fd7f75b1510df38"><div class="ttname"><a href="al__qspi__ll_8h.html#a2bd9ef512682d525c7f40c318e51027facafc96b90bd2d3b68fd7f75b1510df38">SPI_QUAD_FORMAT</a></div><div class="ttdef"><b>Definition:</b> al_qspi_ll.h:26</div></div>
</div><!-- fragment --><dl><dt><b>Examples: </b></dt><dd><a class="el" href="al_qspi_dma_nor_8c-example.html#a3">al_qspi_dma_nor.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
