#########################################################################
# Copyright (c) 2023, Anlogic Inc. and Contributors. All rights reserved.

# SPDX-License-Identifier: BSD-3-Clause
#########################################################################

#########################################################################
# 3. CFLAGS
# AUTO_TEST: for emulation platform auto test config
# USE_DDR: for test case read/write buffer in ddr
# CONFIG_PERFORMANCE_CALC: for performace calc
#########################################################################
CFLAGS := -O2 -DMMC_DEBUG -DCONFIG_SD_TEST=1 -g

# CFLAGS += -DAUTO_TEST
# CFLAGS += -DUSE_DDR
# CFLAGS += -DCONFIG_PERFORMANCE_CALC

#########################################################################
# 5. define build target
#########################################################################

TARGET := fpsoc_mmc_sd

ifneq ($(PINMUX_MODE),)
CFLAGS += -DENABLE_$(PINMUX_MODE)=1
TARGET:=$(TARGET)_$(CHIP)_$(PINMUX_MODE)
endif

all: $(TARGET)
	@$(ECHO) COMPILE_PREFIX = $(COMPILE_PREFIX)

# include rules.mk
include $(SDK_ROOT)/tools/make/rules.mk